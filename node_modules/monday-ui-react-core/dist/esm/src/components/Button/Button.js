import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t,{forwardRef as o,useRef as a,useEffect as n,useCallback as i,useMemo as r}from"react";import{camelCase as s}from"lodash-es";import l from"classnames";import c from"../../hooks/useMergeRef.js";import{NOOP as u}from"../../utils/function-utils.js";import d from"../Icon/Icon.js";import m from"../Loader/Loader.js";import{ButtonType as p,ButtonColor as f,ButtonInputType as y,getActualSize as b,BUTTON_ICON_SIZE as g}from"./ButtonConstants.js";import{TRANSPARENT_COLOR as v,getParentBackgroundColorNotTransparent as I}from"./helper/dom-helpers.js";import{getTestId as h}from"../../tests/testIds.js";import{withStaticProps as C}from"../../types/withStaticProps.js";import{ComponentDefaultTestId as N}from"../../tests/constants.js";import{backwardCompatibilityForProperties as F}from"../../helpers/backwardCompatibilityForProperties.js";import{getStyle as O}from"../../helpers/typesciptCssModulesHelper.js";import P from"./Button.module.scss.js";import{useButtonLoading as T}from"./helper/useButtonLoading.js";import{SIZES as j}from"../../constants/sizes.js";var k=o((function(o,u){var y=o.className,v=o.children,C=o.kind,j=o.onClick,k=o.name,E=o.size,M=o.color,L=o.disabled,R=o.rightIcon,S=o.leftIcon,x=o.success,B=o.successText,z=o.successIcon,_=o.style,A=o.loading,D=o.loaderClassName,U=o.active,w=o.activeButtonClassName,H=o.id,Y=o.marginRight,G=o.marginLeft,V=o.type,X=o.onMouseDown,q=o.ariaLabel,J=o.rightFlat,K=o.leftFlat,Q=o.preventClickAnimation,W=o.noSidePadding,Z=o.onFocus,$=o.onBlur,ee=o.ariaLabeledBy,te=o.defaultTextColorOnPrimaryColor,oe=o.ariaHasPopup,ae=o.ariaExpanded,ne=o.ariaControls,ie=o["aria-describedby"],re=o["aria-hidden"],se=o.blurOnMouseUp,le=o.dataTestId,ce=o["data-testid"],ue=o.insetFocus,de=o.tabIndex,me=a(null),pe=c(u,me),fe=T({isLoading:A}).loading,ye=F([ce,le]);n((function(){if((M===f.ON_PRIMARY_COLOR||M===f.FIXED_LIGHT)&&C===p.PRIMARY&&me.current){var e=me.current;e.style.color=I(e,te)}}),[C,me,M,te]);var be=i((function(){var e=me.current;!L&&e&&se&&e.blur()}),[L,me,se]),ge=i((function(e){L||fe||x?e.preventDefault():j&&j(e)}),[j,L,fe,x]),ve=i((function(e){L||fe||x?e.preventDefault():X&&X(e)}),[X,L,fe,x]),Ie=r((function(){var t,o=x?f.POSITIVE:M;return l(y,P.button,O(P,s("size-"+b(E))),O(P,s("kind-"+C)),O(P,s("color-"+o)),(e(e(e(e(e(e(e(e(e(e(t={},P.success,x),O(P,s("color-"+o+"-active")),U),w,U),P.marginRight,Y),P.marginLeft,G),P.rightFlat,J),P.leftFlat,K),P.preventClickAnimation,Q),P.noSidePadding,W),P.disabled,L),e(t,P.insetFocusStyle,ue)))}),[x,M,y,E,C,fe,U,w,Y,G,J,K,Q,W,L,ue]),he=r((function(){return{ref:pe,type:V,className:Ie,name:k,onMouseUp:be,style:_,onClick:ge,id:H,onFocus:Z,onBlur:$,tabIndex:L||re?-1:de,"data-testid":ye||h(N.BUTTON,H),onMouseDown:ve,"aria-disabled":L,"aria-busy":fe,"aria-labelledby":ee,"aria-label":q,"aria-haspopup":oe,"aria-expanded":ae,"aria-controls":ne,"aria-describedby":ie,"aria-hidden":re}}),[pe,V,Ie,k,be,_,ge,H,Z,$,de,ye,ve,L,fe,ee,q,oe,ae,ne,ie,re]),Ce=r((function(){if("function"==typeof S)return g}),[S]),Ne=r((function(){if("function"==typeof R)return g}),[R]),Fe=r((function(){if("function"==typeof z)return g}),[z]),Oe=r((function(){return t.createElement(t.Fragment,null,S?t.createElement(d,{iconType:null==d?void 0:d.type.ICON_FONT,clickable:!1,icon:S,iconSize:Ce,className:l(e({},P.leftIcon,!!v)),ignoreFocusStyle:!0}):null,v,R?t.createElement(d,{iconType:null==d?void 0:d.type.ICON_FONT,clickable:!1,icon:R,iconSize:Ne,className:l(e({},P.rightIcon,!!v)),ignoreFocusStyle:!0}):null)}),[v,S,Ce,R,Ne]);return fe?t.createElement("button",Object.assign({},he,{key:"".concat(H,"-loading")}),t.createElement("span",{className:l(P.loader,D)},t.createElement(m,{className:P.loaderSvg}),t.createElement("span",{"aria-hidden":!0,className:P.textPlaceholder},Oe))):x?t.createElement("button",Object.assign({},he,{key:"".concat(H,"-success")}),t.createElement("span",{className:P.successContent},z?t.createElement(d,{iconType:null==d?void 0:d.type.ICON_FONT,clickable:!1,icon:z,iconSize:Fe,className:l(e({},P.leftIcon,!!B)),ignoreFocusStyle:!0}):null,B),t.createElement("span",{"aria-hidden":"true",className:P.textPlaceholder},Oe)):t.createElement("button",Object.assign({},he,{key:"".concat(H,"-button")}),Oe)}));k.defaultProps={className:void 0,name:void 0,style:void 0,id:void 0,dataTestId:void 0,kind:p.PRIMARY,onClick:u,size:j.MEDIUM,color:f.PRIMARY,disabled:!1,rightIcon:null,leftIcon:null,success:!1,successText:"",successIcon:null,loading:!1,loaderClassName:void 0,active:!1,marginRight:!1,marginLeft:!1,type:y.BUTTON,onMouseDown:u,rightFlat:!1,leftFlat:!1,preventClickAnimation:!1,noSidePadding:!1,onFocus:u,onBlur:u,defaultTextColorOnPrimaryColor:v,ariaHasPopup:void 0,blurOnMouseUp:!0,ariaExpanded:void 0,ariaControls:void 0,ariaLabel:void 0,ariaLabeledBy:void 0,insetFocus:!1};var E=C(k,{sizes:j,colors:f,kinds:p,types:y,inputTags:y});export{E as default};
//# sourceMappingURL=Button.js.map
