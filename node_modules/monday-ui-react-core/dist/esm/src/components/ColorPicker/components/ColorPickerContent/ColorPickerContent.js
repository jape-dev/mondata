import{toConsumableArray as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{difference as e,intersection as r}from"lodash-es";import t,{forwardRef as l,useRef as i,useCallback as n,useMemo as s}from"react";import{ColorStyle as c,contentColors as a}from"../../../../utils/colors-vars-map.js";import d from"../../../Icon/Icons/components/NoColor.js";import{ColorShapes as m,DEFAULT_NUMBER_OF_COLORS_IN_LINE as u}from"../../ColorPickerConstants.js";import{calculateColorPickerWidth as f}from"../../services/ColorPickerStyleService.js";import{useGridKeyboardNavigationContext as p,GridKeyboardNavigationContext as C}from"../../../GridKeyboardNavigationContext/GridKeyboardNavigationContext.js";import{ColorPickerClearButton as v}from"./ColorPickerClearButton.js";import{ColorPickerColorsGrid as I}from"./ColorPickerColorsGrid.js";import{withStaticProps as S}from"../../../../types/withStaticProps.js";import h from"../../../../hooks/useMergeRef.js";import{BaseSizes as j}from"../../../../constants/sizes.js";var y=S(l((function(l,S){var y=l.className,k=l.onValueChange,E=l.value,R=l.noColorText,b=l.colorStyle,L=void 0===b?c.REGULAR:b,N=l.ColorIndicatorIcon,g=l.SelectedIndicatorIcon,x=l.shouldRenderIndicatorWithoutBackground,B=l.NoColorIcon,M=void 0===B?d:B,O=l.isBlackListMode,P=void 0===O||O,w=l.colorsList,z=l.isMultiselect,T=l.colorSize,G=void 0===T?j.MEDIUM:T,U=l.numberOfColorsInLine,A=void 0===U?u:U,_=l.tooltipContentByColor,K=void 0===_?{}:_,W=l.focusOnMount,D=l.colorShape,H=void 0===D?m.SQUARE:D,Q=l.forceUseRawColorList,V=l.showColorNameTooltip,Y=l.id,q=l["data-testid"],F=i(null),J=h(S,F),X=i(null),Z=i(null),$=n((function(){k(null)}),[k]),oo=s((function(){return Q?w:P?e(a,w):r(a,w)}),[Q,P,w]),eo=n((function(e){if(z){var r=o(E);if(r.includes(e)){var t=r.indexOf(e);t>-1&&r.splice(t,1)}else r.push(e);k(r)}else k([e])}),[z,k,E]),ro=s((function(){return[{topElement:X,bottomElement:Z}]}),[]),to=p(ro,F),lo=f(G,A);return t.createElement("div",{className:y,style:{width:lo},ref:J,tabIndex:-1},t.createElement(C.Provider,{value:to},t.createElement(I,{ref:X,onColorClicked:eo,colorsToRender:oo,numberOfColorsInLine:A,focusOnMount:W,value:E,colorStyle:L,ColorIndicatorIcon:N,shouldRenderIndicatorWithoutBackground:x,SelectedIndicatorIcon:g,colorSize:G,tooltipContentByColor:K,colorShape:H,showColorNameTooltip:V&&!Q,id:Y,"data-testid":q}),R&&t.createElement(v,{Icon:M,onClick:$,text:R,ref:Z})))})),{COLOR_STYLES:c,sizes:j,colorStyles:c,colorSizes:j,colorShapes:m});export{y as default};
//# sourceMappingURL=ColorPickerContent.js.map
